<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#25353;&#38062; Button | Mixed Reality Toolkit Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#25353;&#38062; Button | Mixed Reality Toolkit Documentation ">
    <meta name="generator" content="docfx 2.47.0.0">
    
    <link rel="shortcut icon" href="../Documentation/Images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../Documentation/Images/mrt_logo_icon.png" alt="">
              </a>
            </div>
          
          <div class="version-dropdown" id="versionDropdown">
           </div>
         
          <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="按钮-button">按钮 Button</h1>

<p><img src="Images/Button/MRTK_Button_Main.png" alt="Button"></p>
<p>按钮为用户提供了一种立即触发操作的方法。它是混合现实中最基本的组成部分之一。MRTK提供各种类型的按钮预制体。</p>
<h2 id="mrtk的按钮预制体">MRTK的按钮预制体</h2>
<p>按钮预制体的示例在<code>MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs</code> 文件夹下</p>
<h3 id="基于-ui-图像图形的按钮">基于 UI 图像/图形的按钮</h3>
<ul>
<li><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/UnityUIInteractableButton.prefab"><code>UnityUIInteractableButton.prefab</code></a></li>
<li><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonUnityUI.prefab"><code>PressableButtonUnityUI.prefab</code></a></li>
<li><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonUnityUICircular.prefab"><code>PressableButtonUnityUICircular.prefab</code></a></li>
<li><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonHoloLens2UnityUI.prefab"><code>PressableButtonHoloLens2UnityUI.prefab</code></a></li>
</ul>
<h3 id="基于碰撞器collider的按钮">基于碰撞器(Collider)的按钮</h3>
<table>
<thead>
<tr>
<th style="text-align: left;"><img src="Images/Button/MRTK_Button_Prefabs_HoloLens2.png" alt="PressableButtonHoloLens2"> PressableButtonHoloLens2</th>
<th style="text-align: left;"><img src="Images/Button/MRTK_Button_Prefabs_HoloLens2Unplated.png" alt="PressableButtonHoloLens2Unplated"> PressableButtonHoloLens2Unplated</th>
<th style="text-align: left;"><img src="Images/Button/MRTK_Button_Prefabs_HoloLens2Circular.png" alt="PressableButtonHoloLens2Circular"> PressableButtonHoloLens2Circular</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">具有背板的HoloLens 2 shell样式的按钮，支持多种视觉反馈 例如边框光源,接近光源 以及可摁下的前版</td>
<td style="text-align: left;">HoloLens 2 shell 样式的按钮 没有背板</td>
<td style="text-align: left;">HoloLens 2 shell样式的按钮 具有圆形形状</td>
</tr>
<tr>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_Prefabs_HoloLens2_32x96.png" alt="PressableButtonHoloLens2_32x96"> <strong>PressableButtonHoloLens2_32x96</strong></td>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_Prefabs_HoloLens2BarH.png" alt="PressableButtonHoloLens2Bar3H"> <strong>PressableButtonHoloLens2Bar3H</strong></td>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_Prefabs_HoloLens2BarV.png" alt="PressableButtonHoloLens2Bar3V"> <strong>PressableButtonHoloLens2Bar3V</strong></td>
</tr>
<tr>
<td style="text-align: left;">宽的HoloLens 2 shell样式的按钮 32x96mm</td>
<td style="text-align: left;">共享背板的HoloLens 2 水平按钮栏</td>
<td style="text-align: left;">共享背板的HoloLens 2 垂直按钮栏</td>
</tr>
<tr>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_Radial.png" alt="Radial"> <strong>Radial</strong></td>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_Checkbox.png" alt="Checkbox"> <strong>Checkbox</strong></td>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_ToggleSwitch.png" alt="ToggleSwitch"> <strong>ToggleSwitch</strong></td>
</tr>
<tr>
<td style="text-align: left;">单选按钮</td>
<td style="text-align: left;">复选框</td>
<td style="text-align: left;">开关</td>
</tr>
<tr>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_HoloLens1.png" alt="ButtonHoloLens1"> <strong>ButtonHoloLens1</strong></td>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_Round.png" alt="PressableRoundButton"> <strong>PressableRoundButton</strong></td>
<td style="text-align: left;"><img src="Images/Button/MRTK_Button_Base.png" alt="Button"> <strong>Button</strong></td>
</tr>
<tr>
<td style="text-align: left;">HoloLens 1代 shell 样式按钮</td>
<td style="text-align: left;">圆形按压按钮</td>
<td style="text-align: left;">基础按钮</td>
</tr>
</tbody>
</table>
<p><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/Button.prefab"><code>Button.prefab</code></a> 是基于<a href="README_Interactable.html">Interactable</a>概念提供简单的UI控件用于按钮或其他类型的可交互表面。基准按钮支持所有可用的输入方法，包括用于近距离交互的全关节手输入，以及用于远距离交互的凝视+air-tap。您还可以使用语音命令来触发按钮。</p>
<p><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonHoloLens2.prefab"><code>PressableButtonHoloLens2.prefab</code></a>是HoloLens 2的shell 样式按钮,支持按钮的精确移动，直接进行手动跟踪输入。它结合了<code>Interactable</code>脚本和<code>PressableButton</code> 脚本。</p>
<h2 id="如何使用可按下按钮pressable-buttons">如何使用可按下按钮(pressable buttons)</h2>
<h3 id="基于-unity-ui-的按钮">基于 Unity UI 的按钮</h3>
<p>在你的场景中创建一个画布(GameObject -&gt; UI -&gt; Canvas)。在Inspector面板为您的画布:</p>
<ul>
<li>点击 &quot;Convert to MRTK Canvas&quot;</li>
<li>点击 &quot;Add NearInteractionTouchableUnityUI&quot;</li>
<li>将Rect Transform的X、Y和Z scale设置为0.001</li>
</ul>
<p>然后,拖动 <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonUnityUI.prefab"><code>PressableButtonUnityUI.prefab</code></a>, <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonUnityUICircular.prefab"><code>PressableButtonUnityUICircular.prefab</code></a>, 或者 <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonHoloLens2UnityUI.prefab"><code>PressableButtonHoloLens2UnityUI.prefab</code></a> 到画布(Canvas)上.</p>
<h3 id="基于碰撞器的按钮">基于碰撞器的按钮</h3>
<p>简单的拖动 <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonHoloLens2.prefab"><code>PressableButtonHoloLens2.prefab</code></a> or <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Interactable/Prefabs/PressableButtonHoloLens2Unplated.prefab"><code>PressableButtonHoloLens2Unplated.prefab</code></a> 到场景。这些按钮预置体已经配置为具有各种类型输入的视觉和听觉反馈，包括全关节手输入和凝视。</p>
<p>预制体本身和<a href="README_Interactable.html">Interactable</a>组件中公开的事件可用于触发其他操作。<a href="README_HandInteractionExamples.html">HandInteractionExample 场景</a>中的可按下按钮使用Interactable的<em>OnClick</em>事件来触发立方体颜色的更改。对于不同类型的输入方法(如凝视、air-tap、手部射线)以及物理按钮的按下，可按按钮脚本将触发此事件。</p>
<img src="Images/Button/MRTK_Button_HowToUse_Interactable.png" width="450">
<p>您可以通过<code>PhysicalPressEventRouter</code>进行配置 可按按钮何时触发<em>OnClick</em>事件。例如，您可以通过设置<em>Interactable On Click</em> 为<em>Event On Press</em>设来置<em>OnClick</em>在按钮第一次按动时触发，而不是在按钮被按下和释放时触发。</p>
<img src="Images/Button/MRTK_Button_HowTo_Events.png" width="450">
<p>要利用特定的手部输入状态信息，可以使用可按下按钮事件- <em>Touch Begin</em>， <em>Touch End</em>， <em>Button Pressed</em>， <em>Button Released</em>。然而，这些事件不会在air-tap、手部射线或眼动输入时触发。</p>
<img src="Images/Button/MRTK_Button_HowTo_PressableButton.png" width="450">
<h2 id="交互状态">交互状态</h2>
<p>在空闲状态下，按钮的前板不可见。当手指靠近或者从凝视输入的光标瞄准表面时，前板发光的边缘就变得可见了。有额外的突出的指尖位置在前板表面。当用手指推时，前板随着指尖移动。当指尖接触到前板表面时，呈现出微妙的脉冲效应，给予触点视觉反馈。</p>
<img src="Images/Button/MRTK_Button_InteractionStates.png" width="600">
<p>微妙的脉冲效果是由可按下按钮触发的，该按钮寻找<em>ProximityLight(s)</em>，它位于当前交互指针(interacting pointer.)上。如果发现任何proximity lights，将调用<code>ProximityLight.Pulse</code>方法，该方法将自动更改着色器(shader)参数以显示脉冲。</p>
<h2 id="inspector-属性">Inspector 属性</h2>
<p><img src="Images/Button/MRTK_Button_Structure.png" alt="Button"></p>
<p><strong>Box Collider</strong>
按钮前板的<code>Box Collider</code>。</p>
<p><strong>Pressable Button</strong>
手部按下按钮运动的交互逻辑。</p>
<p><strong>Physical Press Event Router</strong>
此脚本将事件从手动按下交互发送到<a href="README_Interactable.html">Interactable</a>。</p>
<p><strong>Interactable</strong>
<a href="README_Interactable.html">Interactable</a>处理各种类型的交互状态和事件。HoloLens凝视，手势和语音输入和沉浸式头显运动控制器输入被这个脚本直接处理。</p>
<p><strong>Audio Source</strong>
Unity audio source 用于声音反馈</p>
<p><em>NearInteractionTouchable.cs</em>
需要的，用于使任何对象可被全关节手输入触摸。</p>
<h2 id="预制体布局">预制体布局</h2>
<p><em>ButtonContent</em> 对象包含前板、文本标签和图标。<em>FrontPlate</em>响应接近的食指指尖使用<em>Button_Box</em>着色器。它显示了发光的边界，接近光，和触摸的脉冲效应。文本标签是用TextMesh Pro制作的。<em>SeeItSayItLabel</em>的可见度是由<a href="README_Interactable.html">Interactable</a>的主题控制的。</p>
<p><img src="Images/Button/MRTK_Button_Layout.png" alt="Button"></p>
<h2 id="如何更改图标和文本">如何更改图标和文本</h2>
<p>要更改按钮的文本，请在<em>IconAndText</em>下更新<em>TextMeshPro</em>对象的<em>Text</em> 组件。改变图标可以通过替换分配给<em>UIButtonSquareIcon</em>对象的材质来完成。默认情况下，<em>HolographicButtonIconFontMaterial</em>被赋值。</p>
<img src="Images/Button/MRTK_Button_IconUpdate1.png">
<p>要创建一个新的图标材质，复制一个现有的图标材质。这些可以在<code>MixedRealityToolkit.SDK/Features/UX/Interactable/Materials</code>文件夹下找到。</p>
<img src="Images/Button/MRTK_Button_IconUpdate2.png" width="350">
<p>创建一个新的PNG贴图并导入到Unity中。使用现有的图标PNG文件的例子作为参考。<code>MixedRealityToolkit.SDK/Features/UX/Interactable/Textures</code></p>
<p>将新创建的PNG贴图拖放到材质的<em>Albedo</em>属性上。</p>
<img src="Images/Button/MRTK_Button_IconUpdate3.png">
<p>将材质分配给<em>UIButtonSquareIcon</em>对象。</p>
<img src="Images/Button/MRTK_Button_IconUpdate4.png">
<h2 id="语音控制-see-it-say-it">语音控制 ('See-it, Say-it')</h2>
<p>可按按钮中的<a href="README_Interactable.html">Interactable</a>脚本已经实现了<code>IMixedRealitySpeechHandler</code>。语音命令关键字可以在这里设置。</p>
<img src="Images/Button/MRTK_Button_Speech1.png" width="450">
<p><strong>Speech Input Profile</strong>
另外，您需要在全局<em>Speech Commands Profile</em>中注册语音命令关键字。</p>
<img src="Images/Button/MRTK_Button_Speech2.png" width="450">
<p><strong>See-it, Say-it label</strong>
可按按钮预制在<em>SeeItSayItLabel</em>对象下有一个占位符TextMesh Pro标签。可以使用此标签将按钮的语音命令关键字告知用户。</p>
<img src="Images/Button/MRTK_Button_Speech3.png" width="450">
<h2 id="如何从零开始制作一个按钮">如何从零开始制作一个按钮</h2>
<p>您可以在<strong>PressableButtonExample</strong>场景中找到这些按钮的例子。</p>
<img src="Images/Button/MRTK_PressableButtonCube0.png">
<h3 id="1-使用cube创建可按按钮仅限近距离交互">1. 使用Cube创建可按按钮(仅限近距离交互)</h3>
<ol>
<li>创建一个 Unity Cube (GameObject &gt; 3D Object &gt; Cube)</li>
<li>添加 <code>PressableButton.cs</code> 脚本</li>
<li>添加 <code>NearInteractionTouchable.cs</code> 脚本</li>
</ol>
<p>在“PressableButton”的Inspector面板中，将Cube对象分配给<strong>Moving Button Visuals</strong>。</p>
<img src="Images/Button/MRTK_PressableButtonCube3.png" width="450">
<p>当您选择cube时，您将看到该对象上的多个彩色层。这将显示<strong>Press Settings</strong>下的距离值。使用该值，您可以配置何时开始按下(移动对象)以及何时触发事件。</p>
<img src="Images/Button/MRTK_PressableButtonCube1.jpg" width="450">
<img src="Images/Button/MRTK_PressableButtonCube2.png" width="450">
<p>当你按下按钮时，它会移动，并在<code>PressableButton.cs</code>脚本中产生适当的事件。如TouchBegin(), TouchEnd(), ButtonPressed(), ButtonReleased()。</p>
<img src="Images/Button/MRTK_PressableButtonCubeRun1.jpg">
<h3 id="2-向基础cube按钮添加视觉反馈">2. 向基础Cube按钮添加视觉反馈</h3>
<p>MRTK标准着色器提供了各种各样的功能，使它很容易添加视觉反馈。创建一个材质并选择着色器<code>Mixed Reality Toolkit/Standard</code>。或者你也可以使用或者复制一个已经存在的使用MRTK标准着色器的材质在<code>/SDK/StandardAssets/Materials/</code>文件夹下。</p>
<img src="Images/Button/MRTK_PressableButtonCube4.png" width="450">
<p>在<strong>Fluent Options</strong>.下检查 <code>Hover Light</code> 和<code>Proximity Light</code>。这使视觉反馈的近手部(Proximity Light)和远指针(Hover Light)的互动。</p>
<img src="Images/Button/MRTK_PressableButtonCube5.png" width="450">
<img src="Images/Button/MRTK_PressableButtonCubeRun2.jpg">
<h3 id="3-向基本cube按钮添加音频反馈">3. 向基本Cube按钮添加音频反馈</h3>
<p>因为 <code>PressableButton.cs</code>的脚本公开了TouchBegin(), TouchEnd(), ButtonPressed(), ButtonReleased()等事件，我们可以很容易地分配音频反馈。只需将Unity的 <code>Audio Source</code>添加到Cube对象中，然后通过选择AudioSource.PlayOneShot()来分配音频剪辑。您可以在<code>/SDK/StandardAssets/Audio/</code>文件夹下使用MRTK_Select_Main和MRTK_Select_Secondary音频块。</p>
<img src="Images/Button/MRTK_PressableButtonCube7.png" width="450">
<img src="Images/Button/MRTK_PressableButtonCube6.png" width="450">
<h3 id="4-添加可视状态并处理远程交互事件">4. 添加可视状态并处理远程交互事件</h3>
<p><a href="README_Interactable.html">Interactable</a>是一个脚本，它可以很容易地为各种类型的输入交互创建可视状态。它还处理远程交互事件。添加<code>Interactable.cs</code>。然后将Cube对象拖放到<strong>Profiles</strong>下的<strong>Target</strong>字段中。然后，使用类型<strong>ScaleOffsetColorTheme</strong>创建一个新主题。在这个主题下，您可以为特定的交互状态指定对象的颜色，例如<strong>Focus</strong>和<strong>Pressed</strong>。你也可以控制比例和偏移量。检查<strong>Easing</strong>并设置duration以使视觉转换平滑。</p>
<p><img src="Images/Button/mrtk_button_profiles.gif" alt="Select profile theme"></p>
<p>您将看到对象响应远(手部射线或凝视光标)和近处(手部)交互。</p>
<img src="Images/Button/MRTK_PressableButtonCubeRun3.jpg">
<img src="Images/Button/MRTK_PressableButtonCubeRun4.jpg">
<h2 id="自定义按钮示例">自定义按钮示例</h2>
<p>在<a href="README_HandInteractionExamples.html">HandInteractionExample场景</a>中，您可以查看钢琴和圆形按钮的例子，它们都使用了 <code>PressableButton</code>。</p>
<img src="Images/Button/MRTK_Button_Custom1.png" width="450">
<img src="Images/Button/MRTK_Button_Custom2.png" width="450">
<p>每个钢琴键都有一个<code>PressableButton</code>和一个分配的<code>NearInteractionTouchable</code>脚本。验证<code>NearInteractionTouchable</code>的<em>Local Forward</em> 方向是否正确是很重要的。它由编辑器中的一个白色箭头表示。确保箭头远离按钮的正面:</p>
<img src="Images/Button/MRTK_Button_Custom3.png" width="450">
<h2 id="建议浏览">建议浏览</h2>
<ul>
<li><a href="README_Interactable.html">Interactable</a></li>
<li><a href="VisualThemes.html">视觉主题</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_development/Documentation/README_Button.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
