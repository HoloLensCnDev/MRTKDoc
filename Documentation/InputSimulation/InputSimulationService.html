<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#36755;&#20837;&#27169;&#25311;&#26381;&#21153; (Input Simulation Service) | Mixed Reality Toolkit Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#36755;&#20837;&#27169;&#25311;&#26381;&#21153; (Input Simulation Service) | Mixed Reality Toolkit Documentation ">
    <meta name="generator" content="docfx 2.47.0.0">
    
    <link rel="shortcut icon" href="../../Documentation/Images/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../Documentation/Images/mrt_logo_icon.png" alt="">
              </a>
            </div>
          
          <div class="version-dropdown" id="versionDropdown">
           </div>
         
          <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="输入模拟服务-input-simulation-service">输入模拟服务 (Input Simulation Service)</h1>

<p>输入模拟服务模拟在Unity编辑器中可能不可用的设备和平台的行为。示例包括：</p>
<ul>
<li>HoloLens or VR 设备头部跟踪</li>
<li>HoloLens 手势</li>
<li>HoloLens 2 全关节手势跟踪</li>
<li>HoloLens 2 眼动跟踪</li>
</ul>
<p>用户可以使用常规的键盘和鼠标组合在运行时控制模拟设备。这种方法无需先部署到设备即可在Unity编辑器中测试交互。</p>
<div class="WARNING">
<h5>Warning</h5>
<p>使用Unity的XR Holographic Emulation &gt; Emulation Mode = &quot;Simulate in Editor&quot;时，此功能不起作用。Unity的in-editor simulation将使控制权脱离MRTK的输入模拟。为了使用MRTK输入模拟服务，您需要将XR Holographic Emulation设置为Emulation Mode = <em>&quot;None&quot;</em></p>
</div>
<h2 id="启用输入模拟服务">启用输入模拟服务</h2>
<p>默认情况下，MRTK启用输入模拟。</p>
<p>输入模拟是一个可选的<a href="../MixedRealityServices.html">混合现实服务</a>.可以将其作为data provider添加到<a href="../Input/InputProviders.html">Input System profile</a>.</p>
<ul>
<li><strong>Type</strong> 必须是 <em>Microsoft.MixedReality.Toolkit.Input &gt; InputSimulationService</em>.</li>
<li>默认情况下， <strong>Platform(s)</strong> 包括所有的 <em>Editor</em> 平台，因为该服务使用键盘和鼠标输入。</li>
</ul>
<h2 id="input-simulation-tools-window">Input simulation tools window</h2>
<p>从 <em>Mixed Reality Toolkit &gt; Utilities &gt; Input Simulation</em> 菜单启用输入模拟工具窗口（Input simulation tools window）。通过此窗口可以访问play模式期间的输入模拟状态。</p>
<h2 id="viewport-buttons">Viewport Buttons</h2>
<p>可以在 <strong>Indicators Prefab</strong> 的input simulation profile 中指定用于控制基本手部布局的编辑器内按钮的预制体。这是一个可选实用程序，可以在<a href="#input-simulation-tools-window">input simulation tools window</a>.中访问相同的功能。</p>
<div class="NOTE">
<h5>Note</h5>
<p>默认情况下，viewport 指示器是禁用的，因为它们有时有时会干扰Unity UI的交互。参见问题<a href="https://github.com/microsoft/MixedRealityToolkit-Unity/issues/6106">#6106</a>。要启用，请将InputSimulationIndicators预制添加到 <strong>Indicators Prefab</strong> 。</p>
</div>
<p>手部图标(Hand icons)显示模拟手部的状态:</p>
<ul>
<li><img src="../Images/InputSimulation/MRTK_InputSimulation_HandIndicator_Untracked.png" alt="Untracked hand icon" title="Untracked hand icon"> 手没有追踪。单击以启用该手.</li>
<li><img src="../Images/InputSimulation/MRTK_InputSimulation_HandIndicator_Tracked.png" alt="Tracked hand icon" title="Tracked hand icon"> 已追踪到手，但不受用户控制。单击以隐藏手.</li>
<li><img src="../Images/InputSimulation/MRTK_InputSimulation_HandIndicator_Controlled.png" alt="Controlled hand icon" title="Controlled hand icon"> 用户可以跟踪和控制手部。单击以隐藏手.</li>
<li><img src="../Images/InputSimulation/MRTK_InputSimulation_HandIndicator_Reset.png" alt="Reset hand icon" title="Reset hand icon">单击以将手重置到默认位置.</li>
</ul>
<h2 id="camera-control">Camera Control</h2>
<p>头部运动可以由输入模拟服务模拟。</p>
<h3 id="旋转相机">旋转相机</h3>
<ol>
<li><p>将鼠标悬停在编辑器视口窗口上.</p>
<p><em>如果摁按钮无效，则可能需要单击窗口以为其提供输入焦点</em></p>
</li>
<li><p>按住 <strong>Mouse Look Button</strong> (默认：鼠标右键).</p>
</li>
<li><p>在视口窗口中移动鼠标以旋转相机.</p>
</li>
<li><p>使用鼠标滚轮使相机沿观看方向滚动.</p>
</li>
</ol>
<p>可以通过在input simulation profile中更改 <strong>Mouse Look Speed</strong> 设置来配置相机旋转速度。</p>
<p>或者，使用 <strong>Look Horizontal</strong>/<strong>Look Vertical</strong> 轴旋转相机（默认：游戏控制器的右摇杆）。</p>
<h3 id="移动相机">移动相机</h3>
<p>使用 <strong>Move Horizontal</strong> /  <strong>Move Vertical</strong> 轴移动相机（默认值：WASD键或游戏控制器的左摇杆）。</p>
<p>相机的位置和旋转角度也可以在工具窗口中明确设置。可以使用 <strong>Reset</strong>
按钮将相机重置为其默认设置。</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Z7L4I1ET7GU" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h2 id="手部模拟">手部模拟</h2>
<p>输入模拟支持模拟的手部设备。这些虚拟手可以与支持常规手设部备的任何对象进行交互，例如按钮或可抓握的对象。</p>
<h3 id="手部模拟模式">手部模拟模式</h3>
<p>在 <a href="#input-simulation-tools-window">input simulation tools window</a> 中，<strong>Hand Simulation Mode</strong> 设置在两个不同的输入模型之间切换。还可以在input simulation profile 中设置默认模式。</p>
<ul>
<li><p><em>Articulated Hands</em>: 模拟具有关节位置数据的全关节手部设备</p>
<p>模拟HoloLens 2交互模型。</p>
<p>在此模式下，可以模拟基于手的精确定位或使用触摸进行的交互。</p>
</li>
<li><p><em>Gestures</em>: 模拟带有air tap和基本手势的简化手模型.</p>
<p>模拟 <a href="https://docs.microsoft.com/windows/mixed-reality/gestures">HoloLens 交互模型</a>.</p>
<p>使用凝视中心控制聚焦。<em>Air Tap</em> 手势用于与按钮交互。</p>
</li>
</ul>
<h3 id="控制手部运动">控制手部运动</h3>
<p>Press and hold the <strong>Left/Right Hand Control Key</strong> (default: <em>Left Shift</em> for left hand and <em>Space</em> for right hand) to gain control of either hand. While the manipulation key is pressed, the hand will appear in the viewport. Once the manipulation key is released, the hands will disappear after a short <strong>Hand Hide Timeout</strong>.</p>
<p>Hands can be toggled on permanently in the <a href="#input-simulation-tools-window">input simulation tools window</a> or by pressing the <strong>Toggle Left/Right Hand Key</strong> (default: <em>T</em> for left and <em>Y</em> for right). Press the toggle key again to hide the hands again.</p>
<p>Mouse movement will move the hand in the view plane. Hands can be moved further or closer to the camera using the <strong>mouse wheel</strong>.</p>
<p>To rotate hands using the mouse, hold both the <strong>Left/Right Hand Control Key</strong> (<em>Left Shift</em> or <em>Space</em>) <em>and</em> the <strong>Hand Rotate Button</strong> (default: <em>cntrl</em> button) and then move the mouse to rotate the hand. Hand rotation speed can be configured by changing the <strong>Mouse Hand Rotation Speed</strong> setting in the input simulation profile.</p>
<p>All hand placement can also changed in the <a href="#input-simulation-tools-window">input simulation tools window</a>, including resetting hands to default.</p>
<h3 id="additional-profile-settings">Additional profile settings</h3>
<ul>
<li><strong>Hand Depth Multiplier</strong> controls the sensitivity of the mouse scroll wheel depth movement. A larger number will speed up hand zoom.</li>
<li><strong>Default Hand Distance</strong> is the initial distance of hands from the camera. Clicking the <strong>Reset</strong> button hands will also place hands at this distance.</li>
<li><strong>Hand Jitter Amount</strong> adds random motion to hands. This feature can be used to simulate inaccurate hand tracking on the device, and ensure that interactions work well with noisy input.</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uRYfwuqsjBQ" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="hand-gestures">Hand Gestures</h3>
<p>Hand gestures such as pinching, grabbing, poking, etc. can also be simulated.</p>
<ol>
<li><p>Enable hand control using the <strong>Left/Right Hand Control Key</strong> (<em>Left Shift</em> or <em>Space</em>)</p>
<p>Alternatively, toggle the hands on/off using the toggle keys (<em>T</em> or <em>Y</em>).</p>
</li>
<li><p>While manipulating, press and hold a mouse button to perform a hand gesture.</p>
</li>
</ol>
<p>Each of the mouse buttons can be mapped to transform the hand shape into a different gesture using the <em>Left/Middle/Right Mouse Hand Gesture</em> settings. The <em>Default Hand Gesture</em> is the shape of the hand when no button is pressed.</p>
<div class="NOTE">
<h5>Note</h5>
<p>The <em>Pinch</em> gesture is the only gesture that performs the &quot;Select&quot; action at this point.</p>
</div>
<h3 id="one-hand-manipulation">One-Hand Manipulation</h3>
<ol>
<li>Press and  <strong>Left/Right Hand Control Key</strong> (<em>Left Shift</em> or <em>Space</em>)</li>
<li>Point at object</li>
<li>Hold mouse button to pinch</li>
<li>Use your mouse to move the object</li>
<li>Release the mouse button to stop interaction</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rM0xaHam6wM" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="two-hand-manipulation">Two-Hand Manipulation</h3>
<p>For manipulating objects with two hands at the same time, the persistent hand mode is recommended.</p>
<ol>
<li>Toggle on both hands by pressing the toggle keys (T/Y).</li>
<li>Manipulate one hand at a time:
<ol>
<li>Hold <em>Space</em> to control the right hand</li>
<li>Move the hand to where you want to grab the object</li>
<li>Press the mouse button to activate the <em>Pinch</em> gesture. In persistent mode the gesture will remain active when you release the mouse button.</li>
</ol>
</li>
<li>Repeat the process with the other hand, grabbing the same object in a second spot.</li>
<li>Now that both hands are grabbing the same object, you can move either of them to perform two-handed manipulation.</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Qol5OFNfN14" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="ggv-interaction">GGV Interaction</h3>
<ol>
<li>Enable GGV simulation by switching <strong>Hand Simulation Mode</strong> to <em>Gestures</em> in the <a href="#enabling-the-input-simulation-service">Input Simulation Profile</a></li>
<li>Rotate the camera to point the gaze cursor at the interactable object (right mouse button)</li>
<li>Hold <em>Space</em> to control the right hand</li>
<li>Click and hold <em>left mouse button</em> to interact</li>
<li>Rotate the camera again to manipulate the object</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6841rRMdqWw" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="eye-tracking">Eye tracking</h3>
<p><a href="../EyeTracking/EyeTracking_BasicSetup.html#simulating-eye-tracking-in-the-unity-editor">Eye tracking simulation</a> can be enabled by checking the <strong>Simulate Eye Position</strong> option in the
<a href="#enabling-the-input-simulation-service">Input Simulation Profile</a>. This should not be used with GGV
style interactions (so ensure that <strong>Hand Simulation Mode</strong> is set to <em>Articulated</em>).</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_development/Documentation/InputSimulation/InputSimulationService.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
