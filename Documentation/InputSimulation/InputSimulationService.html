<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#36755;&#20837;&#27169;&#25311;&#26381;&#21153; (Input Simulation Service) | Mixed Reality Toolkit Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#36755;&#20837;&#27169;&#25311;&#26381;&#21153; (Input Simulation Service) | Mixed Reality Toolkit Documentation ">
    <meta name="generator" content="docfx 2.47.0.0">
    
    <link rel="shortcut icon" href="../../Documentation/Images/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../Documentation/Images/mrt_logo_icon.png" alt="">
              </a>
            </div>
          
          <div class="version-dropdown" id="versionDropdown">
           </div>
         
          <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="输入模拟服务-input-simulation-service">输入模拟服务 (Input Simulation Service)</h1>

<p>输入模拟服务模拟在Unity编辑器中可能不可用的设备和平台的行为。示例包括：</p>
<ul>
<li>HoloLens or VR 设备头部跟踪</li>
<li>HoloLens 手势</li>
<li>HoloLens 2 全关节手势跟踪</li>
<li>HoloLens 2 眼动跟踪</li>
</ul>
<p>用户可以使用常规的键盘和鼠标组合在运行时控制模拟设备。这种方法无需先部署到设备即可在Unity编辑器中测试交互。</p>
<div class="WARNING">
<h5>Warning</h5>
<p>使用Unity的XR Holographic Emulation &gt; Emulation Mode = &quot;Simulate in Editor&quot;时，此功能不起作用。Unity的in-editor simulation将使控制权脱离MRTK的输入模拟。为了使用MRTK输入模拟服务，您需要将XR Holographic Emulation设置为Emulation Mode = <em>&quot;None&quot;</em></p>
</div>
<h2 id="启用输入模拟服务">启用输入模拟服务</h2>
<p>默认情况下，MRTK启用输入模拟。</p>
<p>输入模拟是一个可选的<a href="../MixedRealityServices.html">混合现实服务</a>.可以将其作为data provider添加到<a href="../Input/InputProviders.html">Input System profile</a>.</p>
<ul>
<li><strong>Type</strong> 必须是 <em>Microsoft.MixedReality.Toolkit.Input &gt; InputSimulationService</em>.</li>
<li>默认情况下， <strong>Platform(s)</strong> 包括所有的 <em>Editor</em> 平台，因为该服务使用键盘和鼠标输入。</li>
</ul>
<h2 id="input-simulation-tools-window">Input simulation tools window</h2>
<p>从 <em>Mixed Reality Toolkit &gt; Utilities &gt; Input Simulation</em> 菜单启用输入模拟工具窗口（Input simulation tools window）。通过此窗口可以访问play模式期间的输入模拟状态。</p>
<h2 id="viewport-buttons">Viewport Buttons</h2>
<p>可以在 <strong>Indicators Prefab</strong> 的input simulation profile 中指定用于控制基本手部布局的编辑器内按钮的预制体。这是一个可选实用程序，可以在<a href="#input-simulation-tools-window">input simulation tools window</a>.中访问相同的功能。</p>
<div class="NOTE">
<h5>Note</h5>
<p>默认情况下，viewport 指示器是禁用的，因为它们有时有时会干扰Unity UI的交互。参见问题<a href="https://github.com/microsoft/MixedRealityToolkit-Unity/issues/6106">#6106</a>。要启用，请将InputSimulationIndicators预制添加到 <strong>Indicators Prefab</strong> 。</p>
</div>
<p>手部图标(Hand icons)显示模拟手部的状态:</p>
<ul>
<li><img src="../Images/InputSimulation/MRTK_InputSimulation_HandIndicator_Untracked.png" alt="Untracked hand icon" title="Untracked hand icon"> 手没有追踪。单击以启用该手.</li>
<li><img src="../Images/InputSimulation/MRTK_InputSimulation_HandIndicator_Tracked.png" alt="Tracked hand icon" title="Tracked hand icon"> 已追踪到手，但不受用户控制。单击以隐藏手.</li>
<li><img src="../Images/InputSimulation/MRTK_InputSimulation_HandIndicator_Controlled.png" alt="Controlled hand icon" title="Controlled hand icon"> 用户可以跟踪和控制手部。单击以隐藏手.</li>
<li><img src="../Images/InputSimulation/MRTK_InputSimulation_HandIndicator_Reset.png" alt="Reset hand icon" title="Reset hand icon">单击以将手重置到默认位置.</li>
</ul>
<h2 id="camera-control">Camera Control</h2>
<p>头部运动可以由输入模拟服务模拟。</p>
<h3 id="旋转相机">旋转相机</h3>
<ol>
<li><p>将鼠标悬停在编辑器视口窗口上.</p>
<p><em>如果摁按钮无效，则可能需要单击窗口以为其提供输入焦点</em></p>
</li>
<li><p>按住 <strong>Mouse Look Button</strong> (默认：鼠标右键).</p>
</li>
<li><p>在视口窗口中移动鼠标以旋转相机.</p>
</li>
<li><p>使用鼠标滚轮使相机沿观看方向滚动.</p>
</li>
</ol>
<p>可以通过在input simulation profile中更改 <strong>Mouse Look Speed</strong> 设置来配置相机旋转速度。</p>
<p>或者，使用 <strong>Look Horizontal</strong>/<strong>Look Vertical</strong> 轴旋转相机（默认：游戏控制器的右摇杆）。</p>
<h3 id="移动相机">移动相机</h3>
<p>使用 <strong>Move Horizontal</strong> /  <strong>Move Vertical</strong> 轴移动相机（默认值：WASD键或游戏控制器的左摇杆）。</p>
<p>相机的位置和旋转角度也可以在工具窗口中明确设置。可以使用 <strong>Reset</strong>
按钮将相机重置为其默认设置。</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Z7L4I1ET7GU" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h2 id="手部模拟">手部模拟</h2>
<p>输入模拟支持模拟的手部设备。这些虚拟手可以与支持常规手设部备的任何对象进行交互，例如按钮或可抓握的对象。</p>
<h3 id="手部模拟模式">手部模拟模式</h3>
<p>在 <a href="#input-simulation-tools-window">input simulation tools window</a> 中，<strong>Hand Simulation Mode</strong> 设置在两个不同的输入模型之间切换。还可以在input simulation profile 中设置默认模式。</p>
<ul>
<li><p><em>Articulated Hands</em>: 模拟具有关节位置数据的全关节手部设备</p>
<p>模拟HoloLens 2交互模型。</p>
<p>在此模式下，可以模拟基于手的精确定位或使用触摸进行的交互。</p>
</li>
<li><p><em>Gestures</em>: 模拟带有air tap和基本手势的简化手模型.</p>
<p>模拟 <a href="https://docs.microsoft.com/windows/mixed-reality/gestures">HoloLens 交互模型</a>.</p>
<p>使用凝视中心控制聚焦。<em>Air Tap</em> 手势用于与按钮交互。</p>
</li>
</ul>
<h3 id="控制手部运动">控制手部运动</h3>
<p>按住 <strong>左/右手控制键</strong>（默认值：<em>左手为Shift <em>，右手为</em>Space</em>）来控制任一只手。按下操作键时，手将出现在视口中。释放操纵键，在短暂的 <strong>Hand Hide Timeout</strong> 后，手便消失了。</p>
<p>可以在<a href="#input-simulation-tools-window">input simulation tools window</a>中永久打开手，也可以通过按 <strong>左/右手开关键</strong>（默认值：<em>T</em>表示左，<em>Y</em>表示右）来永久打开手。再次按切换键即可隐藏手。</p>
<p>鼠标移动将使手在视图平面中移动。可以使用 <strong>mouse wheel(鼠标滚轮)</strong> 将手移到相机远处或附近。</p>
<p>要使用鼠标旋转手，请同时按住 <strong>左/右手控制键</strong> （<em>左Shift</em>或<em>空格</em>） <em>和</em>  <strong>手旋转按钮</strong>（默认值：<em>cntrl</em>按钮），然后移动鼠标以旋转手。可以通过在input simulation profile中更改 <strong>Mouse Hand Rotation Speed</strong> 设置手的旋转速度。</p>
<p>还可以在<a href="#input-simulation-tools-window">input simulation tools window</a>中更改所有手的放置，包括将手重置为默认值。</p>
<h3 id="其他配置设置">其他配置设置</h3>
<ul>
<li><strong>Hand Depth Multiplier</strong> 控制鼠标滚轮深度移动的灵敏度。较大的数字将加快手部移动。</li>
<li><strong>Default Hand Distance</strong> 是手到相机的初始距离。单击 <strong>Reset</strong> 按钮的手也会将手放在此距离处。</li>
<li><strong>Hand Jitter Amount</strong> 为手添加随机运动。此功能可用于模拟设备上不准确的手部跟踪，并确保在嘈杂的输入下交互效果良好。</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uRYfwuqsjBQ" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="手势">手势</h3>
<p>也可以模拟诸如捏，抓，戳等手势。</p>
<ol>
<li><p>使用 <strong>左/右手控制键</strong>（<em>左Shift</em>或<em>空格</em>）启用手控制。</p>
<p>或者，使用开关键（<em>T</em>或<em>Y</em>）来切换手的开/关。</p>
</li>
<li><p>进行操作时，按住鼠标按钮以执行手势。</p>
</li>
</ol>
<p>使用 <em>Left/Middle/Right Mouse Hand Gesture</em> 设置，可以映射每个鼠标按钮以将手形转换为不同的手势。<em>Default Hand Gesture</em>（默认手势）是没有按下任何按钮时的手形。</p>
<div class="NOTE">
<h5>Note</h5>
<p><em>Pinch</em> 手势是此时唯一执行&quot;Select&quot;操作的手势。</p>
</div>
<h3 id="单手操作">单手操作</h3>
<ol>
<li>按 <strong>左/右手控制键</strong>（<em>左Shift</em>或<em>空格</em>）</li>
<li>指向物体</li>
<li>按住鼠标按钮进行捏</li>
<li>用鼠标移动对象</li>
<li>释放鼠标按钮以停止交互</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rM0xaHam6wM" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="双手操作">双手操作</h3>
<p>若要同时用两只手操作对象，建议使用持续手模式。</p>
<ol>
<li>按下开关键（T / Y）打开双手</li>
<li>一次操纵一只手:
<ol>
<li>按住 <em>Space</em> 来控制右手</li>
<li>将手移到要抓住物体的位置</li>
<li>按下鼠标按钮以激活 <em>Pinch</em> 手势。在持续模式下，当您释放鼠标按钮时，手势将保持活动状态。</li>
</ol>
</li>
<li>用另一只手重复该过程，在另一个位置抓住相同的对象</li>
<li>现在两只手都抓住相同的对象，您可以移动两只手来执行双手操作。</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Qol5OFNfN14" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="ggv-交互">GGV 交互</h3>
<ol>
<li>在<a href="#enabling-the-input-simulation-service">Input Simulation Profile</a>中将 <strong>Hand Simulation Mode</strong> 切换为 <em>Gestures</em> ，从而启用GGV模拟</li>
<li>旋转相机，将凝视光标指向可交互的对象（鼠标右键）</li>
<li>按住 <em>Space</em> 来控制右手</li>
<li>点击并按住 <em>鼠标左键</em> 进行交互</li>
<li>再次旋转相机以操作对象</li>
</ol>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6841rRMdqWw" class="center" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="眼动追踪">眼动追踪</h3>
<p><a href="../EyeTracking/EyeTracking_BasicSetup.html#simulating-eye-tracking-in-the-unity-editor">Eye tracking simulation</a> 可以通过选中<a href="#enabling-the-input-simulation-service">Input Simulation Profile</a>中的 <strong>Simulate Eye Position</strong> 选项来启用。这不应与GGV类型交互一起使用（因此请确保将 <strong>Hand Simulation Mode</strong> 设置为 <em>Articulated</em>）。</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_development/Documentation/InputSimulation/InputSimulationService.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
